<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
        {% if page.title %}{{ page.title }} | {{ site.title }}
        {% else %}{{ site.title }}{% endif %}
    </title>

    <style>
        {% capture include_to_scssify %}
          {% include inline.scss %}
        {% endcapture %}
        {{ include_to_scssify | scssify }}
    </style>
</head>

<body {% if site.background-image %} style="background-image: url({{ site.background-image }})" {% endif %}>
    <div class="container">
        <div class="card">
            <header class="card__header">
                <span class="card__header__logo">{{site.title}}</span>
                <a href="{{site.mail}}">{{site.mail_text}}</a>
            </header>
            <section class="card__carousel">
                <div class="carousel__wrapper">
                    {% for image in site.data.images %}
                    <img src="{{ image.path }}" alt="{{ image.description }}" class="carousel__image">
                    {% endfor %}
                    <div class="carousel__arrow">â†’</div>
                </div>
            </section>
            {% if site.show_description_on_card %}
            <section class="card__text">
                {{site.description}}
            </section>
            {% endif %}
            <section class="card__links">
                {% for link in site.data.links %}
                <div class="card__item">
                    <a href="{{ link.url }}" {% if link.openInNewTab %} target="_blank" {% endif %}>{{ link.title }}</a>
                </div>
                {% endfor %}
            </section>

        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const carousel = document.querySelector('.carousel__wrapper');
            const images = carousel.querySelectorAll('.carousel__image');
            const arrow = carousel.querySelector('.carousel__arrow');

            if (images.length === 0) return;

            // Set first image as active initially
            images[0].classList.add('active');

            if (images.length <= 1) return;

            let currentIndex = 0;

            function nextImage() {
                images[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % images.length;
                images[currentIndex].classList.add('active');
            }

            carousel.addEventListener('click', nextImage);
        });
    </script>
</body>

</html>
